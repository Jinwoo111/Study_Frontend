# 함수
함수는 어떤 작업을 수행하기 위해 필요한 문들의  집합을 정의한 코드 블록이다. 함수는 이름과 매개 변수를 가지며 필요한 때에 호출하여 코드 블록에 담긴 문들을 일괄적으로 실행할 수 있다.
함수는 호출에 의해 실행되는데 한번만 호출할 수 있는 것이 아니라 여러번 호출할 수 있다.

동일한 작업을 반복적으로 수행해야 한다면 미리 정의된 함수를 재사용하는 것이 효율적이다. 이 특성은 코드의 재사용이라는 측면에서 매우 유용하다.

함수는 어떤 작업을 수행하는 문들의 집합을 정의하여 코드의 재사용을 목적에 두고 이뿐만 아니라 객체 생성, 객체의 행위 정의, 정보 은닉, 클로저, 모듈화 등의 기능을 수행할 수 있다.

자바스크립트의 함수는 객체이다. 다른 객체와 구분될 수 있는 특징은 호출할 수 있다는 것이다. 함수도 객체이므로 다른 값들처럼 변수나 객체, 배열에 저장하거나 인수로도 사용하고 반환값이 될 수도 있다.

## 함수 정의
함수를 정의하는 방법
1. 함수 선언문
2. 함수 표현식
3. Function 생성자 함수

#### 함수 선언문
함수 선언문 방식으로 정의한 함수는 function 키워드와 이하의 내용으로 구분된다.
**함수명** : 함수 선언문의 경우 생략할 수 없다. 함수명은 함수 몸체에서 자신을 재귀적 호출하거나 자바스크립트 디버거가 해당 함수를 구별할 수 있는 식별자이다.

**매개변수 목록** : 0개 이상의 목록으로 괄호로 감싸고 콤마로 분리한다. 매개변수의 타입은 기술하지 않는다. 함수 몸체 내에서 매개변수의 타입 체크가 필요할 수 있다.

**함수 몸체** : 함수가 호출되었을 때 실행되는 문들의 집합이다. 중괄호로 감싸고 return 문으로 결과값을 반환할 수 있다.

#### 함수 표현식
자바스크립트 함수는 일급객체이다.
***
1. 무명의 리터럴로 표현이 가능하다.
2. 변수나 자료 구조에 저장할 수 있다.
3. 함수의 파라미터로 전달할 수 있다.
4. 반환값으로 사용할 수 있다.
***
함수의 일급객체 특성을 이용하여 **함수 리터럴 방식**으로 함수를 정의하고 **변수에 할당**할 수 있는데 이러한 방식을 함수 표현식이라 한다.

함수 표현식 방식으로 정의한 함수는 함수명을 생략할 수 있다. 이러한 함수를 **익명 함수**라 한다. 함수 표현식에서는 함수명을 생략하는 것이 일반적이다. 함수는 일급객체이기 때문에 변수에 할당할 때 변수는 함수명이 아니라 할당된 함수를 가리키는 참조값을 저장하게 된다. 함수 호출시 함수명이 아니라 함수를 가리키는 변수명을 사용하여야 한다.

#### Function 생성자 함수
함수 표현식으로 함수를 정의할 때 함수 리터럴 방식을 사용한다. 함수 선언문도 내부적으로 JS 엔진이 기명 함수 표현식으로 변환하므로 결국 함수 리터럴 방식을 사용한다.
**따라서 함수 선언문과 함수 표현식은 모두 함수 리터럴 방식으로 함수를 정의하는데 이것은 결국 내장 함수 Function 생성자 함수를 생성하는 것을 단순화시킨 축약법이다.**
Function 생성자 함수로 함수를 생성하는 방식은 일반적으로 사용하지 않는다.

## 함수 호이스팅
***
var res = square(5);
function square(number){
return number * number;
}
***
함수 선언문으로 함수가 정의되기 이전에 함수 호출이 가능하다. 함수 선언문의 경우, 함수 선언의 위치와는 상관없이 코드 내 어느 곳에서든지 호출이 가능한데 이것을 호이스팅이라한다.

자바스크립트는 ES6의 let, const를 포함하여 모든 선언을 호이스팅한다.

**호이스팅이란 var 선언문이나 function 선언문 등 모든 선언문에 해당 Scope의 선두로 옮겨진 것처럼 동작하는 특성을 말한다.**

함수 선언문으로 정의된 함수는 자바스크립트 엔진이 스크립트가 로딩되는 시점에 바로 초기화 하고 이를 VO(Variable Object)에 저장한다.

***
변수 호이스팅은 변수 생성 및 초기화와 할당이 분리되어 진행된다. 호이스팅된 변수는 undefined로 초기화 되고 실제 값의 할당은 할당문에서 이루어진다.
***

## First-class object(일급 객체)
일급 객체란 생성, 대입, 연산, 인자 또는 반환값으로서 전달 등 프로그래밍 언어의 기본적 조작을 제한없이 사용할 수 있는 대상을 말한다.

***
1. 무명의 리터럴로 표현이 가능하다.
2. 변수나 자료 구조에 저장할 수 있다.
3. 함수의 매개변수에 전달할 수 있다.
4. 반환값으로 사용할 수 있다.
***
함수와 다른 객체의 차이점은 호출을 할 수 있다는 점이다.

## 매개변수(Parameter, 인자)
함수의 작업 실행을 위해 추가적인 정보가 필요할 경우, 매개변수를 지정한다.

#### 매개변수 vs 인수
매개변수는 함수 내에서 변수와 동일하게 메모리 공간을 확보하여 함수에 전달한 인수는 매개변수에 할당된다. 만약 인수를 전달하지 않으면 매개변수는 undefined로 초기화된다.

#### Call-by-value
원시 타입 인수는 Call-by-value(참조에 의한 호출)로 동작한다. 이는 함수 호출 시 원시 타입 인수를 함수에 매개변수로 전달할 때 매개변수에 값을 복사하여 함수로 전달하는 방식이다.

#### Call-by-reference
객체형 인수는 Call-by-reference(참조에 의한 호출)로 동작한다. 이는 함수 호출 시 참조 타입 인수를 함수에 매개변수로 전달할 때 매개변수에 값이 복사되지 않고 객체의 참조값이 매개변수에 저장되어 함수로 전달되는 방식이다.

어떤 외부 상태도 변경하지 않는 함수를 순수함수, 외부 상태도 변경시키는 부수 효과가 발생시키는 함수를 비순수 함수라 한다.

## 반환값
함수는 자신을 호출한 코드에게 수행한 결과를 반환할 수 있다. 이 때 반환된 값을 반환값이라 한다.
+ return 키워드는 함수를 호출한 코드에게 값을 반환할 때 사용한다.
+ 함수는 배열 등을 이용하여 한 번에 여러 개의 값을 리턴할 수 있다.
+ 함수는 반환을 생략할 수 있다. 이 때 함수는 암묵적으로 undefined를 반환한다.
+ 자바스크립트 해석기는 return 키워드를 만나면 함수의 실행을 중단한 후, 함수를 호출한 코드로 되돌아간다. 만일 return 키워드 이후에 다른 구문이 있다면 실행되지 않는다.

## 함수 객체의 프로퍼티
함수는 객체이기에 프로퍼티를 가질 수 있다.

#### arguments 프로퍼티
arguments 객체는 함수 호출 시 전달된 인수들의 정보를 담고 있는 순화기능을 한 유사 배열 객체이며 함수 내부에서 지역변수처럼 사용된다.
런타임 시에 호출된 함수의 인자 갯수를 확인하고 이에 따라 동작을 달리 정의할 필요가 있을 수 있다. 이 때 유용하게 사용되는 것이 arguments 객체이다.

arguments 객체는 매개변수 갯수가 확정되지 않은 가변 인자 함수를 구현할 때 유용하게 사용된다.

#### caller 프로퍼티
caller 프로퍼티는 자신을 호출한 함수를 의미한다.

#### length 프로퍼티
length 프로퍼티는 함수 정의 시 작성된 매개변수 갯수를 의미한다.
arguments.length의 값과는 다를 수 있으므로 주의하여야 한다. arguments.length는 함수 호출시 인자의 갯수이다.

#### name 프로퍼티
함수명을 나타낸다. 기명함수의 경우 함수명을 값으로 갖고 익명함수의 경우 빈 문자열을 값으로 갖는다.

#### _proto_ 접근자 프로퍼티
모든 객체는 prototype이라는 내부 슬롯이 있다. 이는 프로토타입 객체를 가리킨다. 프로토타입 객체란 프로토타입 기반 객체 지향 프로그래밍의 근간을 이루는 객체로서 객체간의 상속을 구현하기 위해 사용된다.
__proto__ 프로퍼티는 prototype 내부 슬롯이 가리키는 프로토타입 객체에 접근하기 위해 사용하는 접근자 프로퍼티이다. prototype 내부 슬롯에 직접적으로 접근할 수 없고 __proto__를 이용해 간접적으로 접근할 수 있다.

#### prototype 프로퍼티
prototype 프로퍼티는 함수 객체만이 소유하는 프로퍼티이다. 즉 일반 객체에는 존재하지 않는다.
prototype 프로퍼티는 함수가 객체를 생성하는 생성자 함수로 사용될 때, 생성자 함수가 생성한 인스턴스의 프로토타입 객체를 가리킨다.

## 함수의 다양한 형태
#### 즉시 실행 함수
함수의 정의와 동시에 실행되는 함수를 즉시 실행 함수(IIFE)라고 한다. 최초 한번만 호출되며 다시 호출할 수는 없다.

#### 내부 함수
함수 내부에 정의된 함수를 지칭한다.
아래 예제의 내부함수 child는 자신을 포함하고 있는 부모함수 parent의 변수에 접근할 수 있다. 하지만 부모함수는 자식함수의 변수에 접근할 수 없다.

#### 재귀 함수
재귀 함수는 자기 자신을 호출하는 함수를 말한다.

#### 콜백 함수
콜백 함수는 함수를 명시적으로 호출하는 방식이 아니라 특정 이벤트가 발생했을 때 시스템에 의해 호출되는 함수를 말한다. 콜백 함수는 매개변수를 통해 전달되고 전달받은 함수의 내부에서 어느 특정시점에 실행된다. 주로 비동기식 모델에 사용된다.