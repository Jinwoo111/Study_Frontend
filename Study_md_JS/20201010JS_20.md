# 자바스크립트 객체지향 프로그래밍

### 클래스 기반 vs 프로토타입 기반

#### 클래스 기반 언어
클래스 기반 언어는 클래스로 객체의 자료구조와 기능을 정의하고 생성자를 통해 인스턴스를 생성한다. 결국 클래스는 객체 생성에 사용되는 패턴 오는 청사진일 뿐이며 new 연산자를 통해 인스턴스화 과정이 필요하다.

#### 프로토타입 기반 언어
자바스크립트는 프로토타입 기반의 객체지향 언어이다

###### 객체 생성 방법
+ 객체 리터럴
+ Object() 생성자 함수
+ 생성자 함수

자바스크립트는 이미 생성된 인스턴스의 자료구조와 기능을 동적으로 변경할 수 있다. 객체 지향의 상속, 캡슐화 등의 개념은 프로토타입 체인과 클로저 등으로 구현할 수 있다.

```
ES6에서 새롭게 클래스가 도입되었다. ES6의 Class가 새로운 객체지향 모델을 제공하는 것이 아니며 Class도 사실 함수이고 기존 프로토타입 기반 패턴의 Syntactic sugar이다
```

### 생성자 함수와 인스턴스의 생성
자바스크립트는 생성자 함수와 new연산자를 통해 인스턴스를 생성할 수 있다. 이 때 생성자 함수는 클래스이자 생성자의 역할을 한다.

### 프로토타입 체인과 메소드의 정의
모든 객체는 프로토타입이라는 다른 객체를 가리키는 내부 링크를 가리키고 있다. 즉, 프로토타입을 통해 직접 객체를 연결할 수 있는데 이를 프로토타입 체인이라 한다.
프로토타입을 이용하여 생성자 함수 내부의 메소드를 생성자 함수의 prototype 프로퍼티가 가리키는 프로토타입 객체로 이동시키면 생성자 함수에 의해 생성된 모든 인스턴스를 프로토타입 체인을 통해 프로토타입 객체의 메소드를 참조할 수 있다.

### 상속
자바스크립트는 기본적으로 프로토타입을 통해 상속을 구현한다. 이것은 프로토타입을 통해 객체가 다른 객체로 직접 상속된다는 의미한다.
자바스크립트의 상속 구현은 의사 클래스 패턴 상속과 프로토타입 패턴 상속이다.

#### 의사 클래스 패턴 상속
의사 클래스 패턴은 자식 생성자 함수의 프로퍼티를 부모 생성자 함수의 인스턴스로 교체하여 상속을 구현한다. 부모와 자식 모두 생성자 함수를 정의하여야 한다.

###### 의사 클래스 패턴의 문제
```
1. new 연산자를 통해 인스턴스를 생성한다.
2. 생성자 링크의 파괴
3. 객체리터럴
```

#### 프로토타입 패턴 상속
프로토타입 패턴 상속은 Object.create 함수를 사용하여 객체에서 다른 객체로 직접 상속을 구현하는 방식이다. 의사 클래스 패턴보다 간단하고 new 연산자가 필요없다. 생성자 링크도 파괴되지 않으며, 객체리터럴에도 사용할 수 있다.

### 캡슐화와 모듈 패턴
캡슐화는 관련있는 멤버 변수와 메소드를 클래스와 같은 하나의 틀 안에 담고 외부에 공개될 필요가 없는 정보는 숨기는 것을 말하며 다른 말로 정보 은닉이라고 한다. 자바스크립트는 클래스 기반 언어와 달리 public과 private가 없지만 정보 은닉이 불가능한 것은 아니다.

함수가 객체를 반환할 때, 이 객체 내의 메소드는 클로저로서 private 변수에 접근할 수 있다. 이러한 방식을 모듈 패턴이라하고 캡슐화와 정보 은닉을 제공한다.
